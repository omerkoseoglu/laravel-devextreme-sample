function isNotEmpty(r){return null!=r&&""!==r}function prettyErrors(r,e,t){if(422===t.status){const r=t.responseJSON.errors.reduce(((r,e)=>r+"<br>"+e),t.responseJSON.message);DevExpress.ui.dialog.alert(r,"Uyarı")}return r.reject(e)}function prettyErrorsSimple(r){if(422===r.status){const e=r.responseJSON.errors,t=Object.values(e).reduce((function(r,e){return r+"<br>"+e}),r.responseJSON.message);DevExpress.ui.dialog.alert(t,"Uyarı")}}function createCustomStoreOptions(r,e){const t={key:r,load:function(r){const t=$.Deferred(),n={};return["filter","group","groupSummary","parentIds","requireGroupCount","requireTotalCount","searchExpr","searchOperation","searchValue","select","sort","skip","take","totalSummary","userData"].forEach((function(e){e in r&&isNotEmpty(r[e])&&(n[e]=JSON.stringify(r[e]))})),$.ajax({url:e.load,method:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:n,success:function(r){t.resolve(r.data,{totalCount:r.totalCount,summary:r.summary})},error:function(r){throw prettyErrors(t,"Veri sorgulanamadı.",r)}}),t.promise()},errorHandler:function(r){console.log("errorHandler",r)}};return e.insert&&(t.insert=function(r){const t=$.Deferred();return $.ajax({url:e.insert,method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:r,success:function(r){t.resolve(r)},error:function(r){return prettyErrors(t,"Kayıt yapılamadı",r)}}),t.promise()}),e.update&&(t.update=function(r,t){const n=$.Deferred();return $.ajax({url:e.update,method:"PUT",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{key:r,...t},success:function(r){n.resolve(r)},error:function(r){return prettyErrors(n,"Kayıt güncellenemedi.",r)}}),n.promise()}),e.remove&&(t.remove=function(r){const t=$.Deferred();return $.ajax({url:e.remove,method:"DELETE",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{key:r},success:function(r){t.resolve(r)},error:function(r){return prettyErrors(t,"Kayıt silinemedi.",r)}}),t.promise()}),t}
